<head>
  <title>replaypoker realtime statistics</title>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
</head>

<body>
  <div class="header">
    <input id="players" type="button" value="Players" />
  </div>
  <div id="main">
    {{> main}}
  </div>
</body>

<template name="welcome">
<div id="welcome">
  <div>
    <h1>Welcome to my ReplayPoker Statistics</h1>
    <div class="fa fa-2x fa-times"></div>
  </div>
  <div>Hi Replay Poker!<br>I'm happy  you take a look to my <a href="fr.linkedin.com/in/flecroart/">resume</a>.You can check the source on github. Here is a realtime updated statistics ladder</div>
</div>
</template>

<template name="main">
  {{> UI.dynamic template=view data=viewData}}
</template>

<template name="tables">
  <h1>tables : {{nbTables}}</h1>
  {{#each tables}}
    {{> table}}
  {{/each}}
</template>

<template name="table">
  <div class='table'>
    <h1>{{name}} ({{nbPlayers}} / {{tableSeats}})</h1>
     <a href="http://www.replaypoker.com{{url}}" target="_blank">see</a>
    <div>type: {{type}}</div>
    <div>state: {{state}}</div>
    <div>players: </div>
    {{#each seats}}
      <div>{{username}} ({{id}})</div>
    {{/each}}
    <div>
      histories: {{histories.length}}
    {{#each histories}}
      <div>date: {{date}}</div>
      <div>playersIds: {{playersIds}}</div>
      <div>seats: {{seats.length}}</div>
    {{/each}}
    </div>
  </div>
</template>

<template name="users">
<div class="users">
  {{> welcome }}
  {{#each users}}
    {{> user}}
  {{/each}}
</div>
</template>

<template name="userTableHistories">
<div>table: {{tableName}} <span class="left">win: {{{ chip winChips}}}</span></div>
  {{{chart this}}}
</template>

<template name="userDetail">
<div class="layoutDetail">
  <div class="leftPanel">
    {{> user}}
  </div>
  <div class="mainPanel">
    {{> userHistories}}
  </div>
</div>
</template>

<template name="user">
  <div class='user'>
    <img class="avatar"  src="{{userAvatar}}">
    <h2> {{username}} <a class="fa fa-external-link" href="http://www.replaypoker.com{{url}}" target="_blank"></a></h2>
    <div>Country: <img src="{{flag}}" ></div>
    <div>average: {{{chip avgChips}}}</div>
    <div>winned: {{{chip winChips}}}</div>
  </div>
</template>

<template name="userHistories">
  <div class="histories">
    {{ UI.contentBlock}}
    {{#each histories}}
      <div class="tableHistory">
      {{> userTableHistories}}
      </div>
    {{/each}}
  </div>
</template>
